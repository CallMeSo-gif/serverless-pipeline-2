{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 581,
  "lineage": "f027e42d-1962-d728-0711-efcc2e5c4279",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "aws_cloudwatch_event_rule",
      "name": "every_10m",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:events:eu-west-3:183295454956:rule/lambda2_schedule_rule",
            "description": "",
            "event_bus_name": "default",
            "event_pattern": null,
            "force_destroy": false,
            "id": "lambda2_schedule_rule",
            "is_enabled": true,
            "name": "lambda2_schedule_rule",
            "name_prefix": "",
            "region": "eu-west-3",
            "role_arn": "",
            "schedule_expression": "cron(0/5 * * * ? *)",
            "state": "ENABLED",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "name": "lambda2_schedule_rule",
            "region": "eu-west-3"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_event_target",
      "name": "invoke_lambda2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "appsync_target": [],
            "arn": "arn:aws:lambda:eu-west-3:183295454956:function:pullDataFunction",
            "batch_target": [],
            "dead_letter_config": [],
            "ecs_target": [],
            "event_bus_name": "default",
            "force_destroy": false,
            "http_target": [],
            "id": "lambda2_schedule_rule-terraform-20251005115144606600000001",
            "input": "",
            "input_path": "",
            "input_transformer": [],
            "kinesis_target": [],
            "redshift_target": [],
            "region": "eu-west-3",
            "retry_policy": [],
            "role_arn": "",
            "rule": "lambda2_schedule_rule",
            "run_command_targets": [],
            "sagemaker_pipeline_target": [],
            "sqs_target": [],
            "target_id": "terraform-20251005115144606600000001"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "event_bus_name": "default",
            "region": "eu-west-3",
            "rule": "lambda2_schedule_rule",
            "target_id": "terraform-20251005115144606600000001"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_cloudwatch_event_rule.every_10m",
            "aws_iam_role.lambda_exec",
            "aws_s3_bucket.tf_bucket_2",
            "aws_sqs_queue.terraform_queue",
            "module.lambda_function_2.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.aws_iam_policy.additional_inline",
            "module.lambda_function_2.aws_iam_policy.additional_json",
            "module.lambda_function_2.aws_iam_policy.additional_jsons",
            "module.lambda_function_2.aws_iam_policy.async",
            "module.lambda_function_2.aws_iam_policy.dead_letter",
            "module.lambda_function_2.aws_iam_policy.logs",
            "module.lambda_function_2.aws_iam_policy.tracing",
            "module.lambda_function_2.aws_iam_policy.vpc",
            "module.lambda_function_2.aws_iam_role.lambda",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_inline",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_json",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_jsons",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_many",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_one",
            "module.lambda_function_2.aws_iam_role_policy_attachment.async",
            "module.lambda_function_2.aws_iam_role_policy_attachment.dead_letter",
            "module.lambda_function_2.aws_iam_role_policy_attachment.logs",
            "module.lambda_function_2.aws_iam_role_policy_attachment.tracing",
            "module.lambda_function_2.aws_iam_role_policy_attachment.vpc",
            "module.lambda_function_2.aws_lambda_function.this",
            "module.lambda_function_2.aws_s3_object.lambda_package",
            "module.lambda_function_2.data.aws_arn.log_group_arn",
            "module.lambda_function_2.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.data.aws_iam_policy.tracing",
            "module.lambda_function_2.data.aws_iam_policy.vpc",
            "module.lambda_function_2.data.aws_iam_policy_document.additional_inline",
            "module.lambda_function_2.data.aws_iam_policy_document.assume_role",
            "module.lambda_function_2.data.aws_iam_policy_document.async",
            "module.lambda_function_2.data.aws_iam_policy_document.dead_letter",
            "module.lambda_function_2.data.aws_iam_policy_document.logs",
            "module.lambda_function_2.data.aws_partition.current",
            "module.lambda_function_2.data.external.archive_prepare",
            "module.lambda_function_2.local_file.archive_plan",
            "module.lambda_function_2.null_resource.archive"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "lambda_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::183295454956:policy/lambda-policy",
            "attachment_count": 1,
            "description": "Allow Lambda to read from S3 bucket",
            "id": "arn:aws:iam::183295454956:policy/lambda-policy",
            "name": "lambda-policy",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::bucket-a-csv-565/to_process/*\"},{\"Action\":[\"s3:PutObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::bucket-b-parquet-565/*\"},{\"Action\":[\"s3:ListBucket\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::bucket-a-csv-565\",\"arn:aws:s3:::bucket-b-parquet-565\"]},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"sqs:SendMessage\",\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:eu-west-3:183295454956:my-sqs-queue\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPASVLKCV3WATAGTUMYS",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::183295454956:policy/lambda-policy"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.tf_bucket",
            "aws_s3_bucket.tf_bucket_2",
            "aws_sqs_queue.terraform_queue"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_exec",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::183295454956:role/lambda_role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-03T10:21:27Z",
            "description": "",
            "force_detach_policies": false,
            "id": "lambda_role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::183295454956:policy/lambda-policy",
              "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
            ],
            "max_session_duration": 3600,
            "name": "lambda_role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROASVLKCV3WHK5DF4XBV"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "name": "lambda_role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "attach_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "lambda_role/arn:aws:iam::183295454956:policy/lambda-policy",
            "policy_arn": "arn:aws:iam::183295454956:policy/lambda-policy",
            "role": "lambda_role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "policy_arn": "arn:aws:iam::183295454956:policy/lambda-policy",
            "role": "lambda_role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.lambda_policy",
            "aws_iam_role.lambda_exec",
            "aws_s3_bucket.tf_bucket",
            "aws_s3_bucket.tf_bucket_2",
            "aws_sqs_queue.terraform_queue"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "attach_policy_cloudwatch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "lambda_role/arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "lambda_role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "lambda_role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_exec"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "allow_events_invoke",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": null,
            "function_name": "pullDataFunction",
            "function_url_auth_type": null,
            "id": "AllowExecutionFromEvents",
            "principal": "events.amazonaws.com",
            "principal_org_id": null,
            "qualifier": "",
            "region": "eu-west-3",
            "source_account": null,
            "source_arn": "arn:aws:events:eu-west-3:183295454956:rule/lambda2_schedule_rule",
            "statement_id": "AllowExecutionFromEvents",
            "statement_id_prefix": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "function_name": "pullDataFunction",
            "qualifier": null,
            "region": "eu-west-3",
            "statement_id": "AllowExecutionFromEvents"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_event_rule.every_10m",
            "aws_iam_role.lambda_exec",
            "aws_s3_bucket.tf_bucket_2",
            "aws_sqs_queue.terraform_queue",
            "module.lambda_function_2.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.aws_iam_policy.additional_inline",
            "module.lambda_function_2.aws_iam_policy.additional_json",
            "module.lambda_function_2.aws_iam_policy.additional_jsons",
            "module.lambda_function_2.aws_iam_policy.async",
            "module.lambda_function_2.aws_iam_policy.dead_letter",
            "module.lambda_function_2.aws_iam_policy.logs",
            "module.lambda_function_2.aws_iam_policy.tracing",
            "module.lambda_function_2.aws_iam_policy.vpc",
            "module.lambda_function_2.aws_iam_role.lambda",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_inline",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_json",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_jsons",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_many",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_one",
            "module.lambda_function_2.aws_iam_role_policy_attachment.async",
            "module.lambda_function_2.aws_iam_role_policy_attachment.dead_letter",
            "module.lambda_function_2.aws_iam_role_policy_attachment.logs",
            "module.lambda_function_2.aws_iam_role_policy_attachment.tracing",
            "module.lambda_function_2.aws_iam_role_policy_attachment.vpc",
            "module.lambda_function_2.aws_lambda_function.this",
            "module.lambda_function_2.aws_s3_object.lambda_package",
            "module.lambda_function_2.data.aws_arn.log_group_arn",
            "module.lambda_function_2.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.data.aws_iam_policy.tracing",
            "module.lambda_function_2.data.aws_iam_policy.vpc",
            "module.lambda_function_2.data.aws_iam_policy_document.additional_inline",
            "module.lambda_function_2.data.aws_iam_policy_document.assume_role",
            "module.lambda_function_2.data.aws_iam_policy_document.async",
            "module.lambda_function_2.data.aws_iam_policy_document.dead_letter",
            "module.lambda_function_2.data.aws_iam_policy_document.logs",
            "module.lambda_function_2.data.aws_partition.current",
            "module.lambda_function_2.data.external.archive_prepare",
            "module.lambda_function_2.local_file.archive_plan",
            "module.lambda_function_2.null_resource.archive"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lambda_permission",
      "name": "allow_s3",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": "lambda:InvokeFunction",
            "event_source_token": null,
            "function_name": "pushDataFunction",
            "function_url_auth_type": null,
            "id": "AllowS3Invoke",
            "principal": "s3.amazonaws.com",
            "principal_org_id": null,
            "qualifier": "",
            "region": "eu-west-3",
            "source_account": null,
            "source_arn": "arn:aws:s3:::bucket-a-csv-565",
            "statement_id": "AllowS3Invoke",
            "statement_id_prefix": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "function_name": "pushDataFunction",
            "qualifier": null,
            "region": "eu-west-3",
            "statement_id": "AllowS3Invoke"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_exec",
            "aws_s3_bucket.tf_bucket",
            "aws_sqs_queue.terraform_queue",
            "module.lambda_function.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.aws_iam_policy.additional_inline",
            "module.lambda_function.aws_iam_policy.additional_json",
            "module.lambda_function.aws_iam_policy.additional_jsons",
            "module.lambda_function.aws_iam_policy.async",
            "module.lambda_function.aws_iam_policy.dead_letter",
            "module.lambda_function.aws_iam_policy.logs",
            "module.lambda_function.aws_iam_policy.tracing",
            "module.lambda_function.aws_iam_policy.vpc",
            "module.lambda_function.aws_iam_role.lambda",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_inline",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_json",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_jsons",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_many",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_one",
            "module.lambda_function.aws_iam_role_policy_attachment.async",
            "module.lambda_function.aws_iam_role_policy_attachment.dead_letter",
            "module.lambda_function.aws_iam_role_policy_attachment.logs",
            "module.lambda_function.aws_iam_role_policy_attachment.tracing",
            "module.lambda_function.aws_iam_role_policy_attachment.vpc",
            "module.lambda_function.aws_lambda_function.this",
            "module.lambda_function.aws_s3_object.lambda_package",
            "module.lambda_function.data.aws_arn.log_group_arn",
            "module.lambda_function.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.data.aws_iam_policy.tracing",
            "module.lambda_function.data.aws_iam_policy.vpc",
            "module.lambda_function.data.aws_iam_policy_document.additional_inline",
            "module.lambda_function.data.aws_iam_policy_document.assume_role",
            "module.lambda_function.data.aws_iam_policy_document.async",
            "module.lambda_function.data.aws_iam_policy_document.dead_letter",
            "module.lambda_function.data.aws_iam_policy_document.logs",
            "module.lambda_function.data.aws_partition.current",
            "module.lambda_function.data.external.archive_prepare",
            "module.lambda_function.local_file.archive_plan",
            "module.lambda_function.null_resource.archive"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "tf_bucket",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::bucket-a-csv-565",
            "bucket": "bucket-a-csv-565",
            "bucket_domain_name": "bucket-a-csv-565.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_region": "eu-west-3",
            "bucket_regional_domain_name": "bucket-a-csv-565.s3.eu-west-3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "c0af5c80868777da04bffd7341c5f0ccc541a787329dc73f9499d5713f71c1e2",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3R1K369G5AVDG",
            "id": "bucket-a-csv-565",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "eu-west-3",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "bucket": "bucket-a-csv-565",
            "region": "eu-west-3"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "tf_bucket_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::bucket-b-parquet-565",
            "bucket": "bucket-b-parquet-565",
            "bucket_domain_name": "bucket-b-parquet-565.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_region": "eu-west-3",
            "bucket_regional_domain_name": "bucket-b-parquet-565.s3.eu-west-3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "c0af5c80868777da04bffd7341c5f0ccc541a787329dc73f9499d5713f71c1e2",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3R1K369G5AVDG",
            "id": "bucket-b-parquet-565",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "eu-west-3",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "bucket": "bucket-b-parquet-565",
            "region": "eu-west-3"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_notification",
      "name": "bucket_notification",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "bucket-a-csv-565",
            "eventbridge": false,
            "id": "bucket-a-csv-565",
            "lambda_function": [
              {
                "events": [
                  "s3:ObjectCreated:*"
                ],
                "filter_prefix": "to_process/",
                "filter_suffix": "",
                "id": "tf-s3-lambda-20251002113623421300000002",
                "lambda_function_arn": "arn:aws:lambda:eu-west-3:183295454956:function:pushDataFunction"
              }
            ],
            "queue": [],
            "region": "eu-west-3",
            "topic": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "bucket": "bucket-a-csv-565",
            "region": "eu-west-3"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.lambda_exec",
            "aws_lambda_permission.allow_s3",
            "aws_s3_bucket.tf_bucket",
            "aws_sqs_queue.terraform_queue",
            "module.lambda_function.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.aws_iam_policy.additional_inline",
            "module.lambda_function.aws_iam_policy.additional_json",
            "module.lambda_function.aws_iam_policy.additional_jsons",
            "module.lambda_function.aws_iam_policy.async",
            "module.lambda_function.aws_iam_policy.dead_letter",
            "module.lambda_function.aws_iam_policy.logs",
            "module.lambda_function.aws_iam_policy.tracing",
            "module.lambda_function.aws_iam_policy.vpc",
            "module.lambda_function.aws_iam_role.lambda",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_inline",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_json",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_jsons",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_many",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_one",
            "module.lambda_function.aws_iam_role_policy_attachment.async",
            "module.lambda_function.aws_iam_role_policy_attachment.dead_letter",
            "module.lambda_function.aws_iam_role_policy_attachment.logs",
            "module.lambda_function.aws_iam_role_policy_attachment.tracing",
            "module.lambda_function.aws_iam_role_policy_attachment.vpc",
            "module.lambda_function.aws_lambda_function.this",
            "module.lambda_function.aws_s3_object.lambda_package",
            "module.lambda_function.data.aws_arn.log_group_arn",
            "module.lambda_function.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.data.aws_iam_policy.tracing",
            "module.lambda_function.data.aws_iam_policy.vpc",
            "module.lambda_function.data.aws_iam_policy_document.additional_inline",
            "module.lambda_function.data.aws_iam_policy_document.assume_role",
            "module.lambda_function.data.aws_iam_policy_document.async",
            "module.lambda_function.data.aws_iam_policy_document.dead_letter",
            "module.lambda_function.data.aws_iam_policy_document.logs",
            "module.lambda_function.data.aws_partition.current",
            "module.lambda_function.data.external.archive_prepare",
            "module.lambda_function.local_file.archive_plan",
            "module.lambda_function.null_resource.archive"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "terraform_queue",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:sqs:eu-west-3:183295454956:my-sqs-queue",
            "content_based_deduplication": false,
            "deduplication_scope": "",
            "delay_seconds": 0,
            "fifo_queue": false,
            "fifo_throughput_limit": "",
            "id": "https://sqs.eu-west-3.amazonaws.com/183295454956/my-sqs-queue",
            "kms_data_key_reuse_period_seconds": 300,
            "kms_master_key_id": "",
            "max_message_size": 262144,
            "message_retention_seconds": 86400,
            "name": "my-sqs-queue",
            "name_prefix": "",
            "policy": "",
            "receive_wait_time_seconds": 10,
            "redrive_allow_policy": "",
            "redrive_policy": "",
            "region": "eu-west-3",
            "sqs_managed_sse_enabled": true,
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "url": "https://sqs.eu-west-3.amazonaws.com/183295454956/my-sqs-queue",
            "visibility_timeout_seconds": 30
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "region": "eu-west-3",
            "url": "https://sqs.eu-west-3.amazonaws.com/183295454956/my-sqs-queue"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.glue",
      "mode": "managed",
      "type": "aws_athena_workgroup",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:athena:eu-west-3:183295454956:workgroup/example_workgroup",
            "configuration": [
              {
                "bytes_scanned_cutoff_per_query": 0,
                "enforce_workgroup_configuration": true,
                "engine_version": [
                  {
                    "effective_engine_version": "Athena engine version 3",
                    "selected_engine_version": "AUTO"
                  }
                ],
                "execution_role": "",
                "identity_center_configuration": [],
                "publish_cloudwatch_metrics_enabled": true,
                "requester_pays_enabled": false,
                "result_configuration": [
                  {
                    "acl_configuration": [],
                    "encryption_configuration": [
                      {
                        "encryption_option": "SSE_S3",
                        "kms_key_arn": ""
                      }
                    ],
                    "expected_bucket_owner": "",
                    "output_location": "s3://bucket-b-parquet-565/athena-queries/"
                  }
                ]
              }
            ],
            "description": "",
            "force_destroy": false,
            "id": "example_workgroup",
            "name": "example_workgroup",
            "region": "eu-west-3",
            "state": "ENABLED",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.tf_bucket_2"
          ]
        }
      ]
    },
    {
      "module": "module.glue",
      "mode": "managed",
      "type": "aws_glue_catalog_database",
      "name": "parquet-db",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:glue:eu-west-3:183295454956:database/raw_data_db",
            "catalog_id": "183295454956",
            "create_table_default_permission": [
              {
                "permissions": [
                  "SELECT"
                ],
                "principal": [
                  {
                    "data_lake_principal_identifier": "IAM_ALLOWED_PRINCIPALS"
                  }
                ]
              }
            ],
            "description": "Database for parquet files",
            "federated_database": [],
            "id": "183295454956:raw_data_db",
            "location_uri": "",
            "name": "raw_data_db",
            "parameters": {},
            "region": "eu-west-3",
            "tags": {},
            "tags_all": {},
            "target_database": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.glue",
      "mode": "managed",
      "type": "aws_glue_catalog_table",
      "name": "parquet-table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:glue:eu-west-3:183295454956:table/raw_data_db/raw_table",
            "catalog_id": "183295454956",
            "database_name": "raw_data_db",
            "description": "",
            "id": "183295454956:raw_data_db:raw_table",
            "name": "raw_table",
            "open_table_format_input": [],
            "owner": "",
            "parameters": {
              "EXTERNAL": "TRUE",
              "parquet.compression": "SNAPPY"
            },
            "partition_index": [],
            "partition_keys": [],
            "region": "eu-west-3",
            "retention": 0,
            "storage_descriptor": [
              {
                "additional_locations": [],
                "bucket_columns": [],
                "columns": [
                  {
                    "comment": "",
                    "name": "departement",
                    "parameters": {},
                    "type": "string"
                  },
                  {
                    "comment": "",
                    "name": "role",
                    "parameters": {},
                    "type": "string"
                  },
                  {
                    "comment": "",
                    "name": "salaire",
                    "parameters": {},
                    "type": "string"
                  },
                  {
                    "comment": "",
                    "name": "salaire_annuel_eur",
                    "parameters": {},
                    "type": "int"
                  }
                ],
                "compressed": false,
                "input_format": "org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat",
                "location": "s3://bucket-b-parquet-565/processed/",
                "number_of_buckets": 0,
                "output_format": "org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat",
                "parameters": {},
                "schema_reference": [],
                "ser_de_info": [
                  {
                    "name": "",
                    "parameters": {
                      "serialization.format": "1"
                    },
                    "serialization_library": "org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe"
                  }
                ],
                "skewed_info": [],
                "sort_columns": [],
                "stored_as_sub_directories": false
              }
            ],
            "table_type": "EXTERNAL_TABLE",
            "target_table": [],
            "view_expanded_text": "",
            "view_original_text": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.tf_bucket_2",
            "module.glue.aws_glue_catalog_database.parquet-db"
          ]
        }
      ]
    },
    {
      "module": "module.glue",
      "mode": "managed",
      "type": "aws_glue_crawler",
      "name": "parquet-crawler",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:glue:eu-west-3:183295454956:crawler/raw-data-crawler",
            "catalog_target": [],
            "classifiers": [],
            "configuration": "",
            "database_name": "raw_data_db",
            "delta_target": [],
            "description": "Crawler for parquet files in the S3 bucket",
            "dynamodb_target": [],
            "hudi_target": [],
            "iceberg_target": [],
            "id": "raw-data-crawler",
            "jdbc_target": [],
            "lake_formation_configuration": [
              {
                "account_id": "",
                "use_lake_formation_credentials": false
              }
            ],
            "lineage_configuration": [
              {
                "crawler_lineage_settings": "DISABLE"
              }
            ],
            "mongodb_target": [],
            "name": "raw-data-crawler",
            "recrawl_policy": [
              {
                "recrawl_behavior": "CRAWL_EVERYTHING"
              }
            ],
            "region": "eu-west-3",
            "role": "glue-role",
            "s3_target": [
              {
                "connection_name": "",
                "dlq_event_queue_arn": "",
                "event_queue_arn": "",
                "exclusions": [],
                "path": "s3://bucket-b-parquet-565/processed/",
                "sample_size": 0
              }
            ],
            "schedule": "",
            "schema_change_policy": [
              {
                "delete_behavior": "LOG",
                "update_behavior": "LOG"
              }
            ],
            "security_configuration": "",
            "table_prefix": "",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.tf_bucket_2",
            "module.glue.aws_iam_role.glue-role"
          ]
        }
      ]
    },
    {
      "module": "module.glue",
      "mode": "managed",
      "type": "aws_glue_job",
      "name": "etl_job",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:glue:eu-west-3:183295454956:job/my-etl-job",
            "command": [
              {
                "name": "pythonshell",
                "python_version": "3.9",
                "runtime": "",
                "script_location": "s3://bucket-b-parquet-565/jobs/etl-athena.py"
              }
            ],
            "connections": [],
            "default_arguments": {
              "--AWS_DEFAULT_REGION": "eu-west-3",
              "--DATABASE_NAME": "raw_data_db",
              "--ENV": "dev",
              "--OUTPUT_BUCKET": "bucket-b-parquet-565",
              "--OUTPUT_PREFIX": "glue-processed-athena/",
              "--TABLE_NAME": "raw_table",
              "--job-language": "python"
            },
            "description": "A glue ETL job to read the data fromm dthe bucket, transform it and write to another bucket",
            "execution_class": "STANDARD",
            "execution_property": [
              {
                "max_concurrent_runs": 1
              }
            ],
            "glue_version": "3.0",
            "id": "my-etl-job",
            "job_mode": "SCRIPT",
            "job_run_queuing_enabled": false,
            "maintenance_window": "",
            "max_capacity": 1,
            "max_retries": 0,
            "name": "my-etl-job",
            "non_overridable_arguments": {},
            "notification_property": [
              {
                "notify_delay_after": 3
              }
            ],
            "number_of_workers": 0,
            "region": "eu-west-3",
            "role_arn": "arn:aws:iam::183295454956:role/glue-role",
            "security_configuration": "",
            "source_control_details": [],
            "tags": {
              "Description": "Activite 3 avec Glue",
              "Owner": "sfeuvouka"
            },
            "tags_all": {
              "Description": "Activite 3 avec Glue",
              "Owner": "sfeuvouka"
            },
            "timeout": 2880,
            "worker_type": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.tf_bucket_2",
            "module.glue.aws_iam_role.glue-role"
          ]
        }
      ]
    },
    {
      "module": "module.glue",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "glue-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::183295454956:policy/example-policy",
            "attachment_count": 1,
            "description": "IAM policy for Glue Crawler to access S3 and CloudWatch",
            "id": "arn:aws:iam::183295454956:policy/example-policy",
            "name": "example-policy",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"s3:ListBucket\",\"s3:GetObject\",\"s3:PutObject\",\"s3:DeleteObject\",\"s3:GetBucketLocation\",\"s3:CreateBucket\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::bucket-a-csv-565/*\",\"arn:aws:s3:::bucket-b-parquet-565/*\",\"arn:aws:s3:::bucket-a-csv-565\",\"arn:aws:s3:::bucket-b-parquet-565\"]},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"glue:*\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPASVLKCV3WOFI66V2GV",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::183295454956:policy/example-policy"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.tf_bucket",
            "aws_s3_bucket.tf_bucket_2"
          ]
        }
      ]
    },
    {
      "module": "module.glue",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "glue-role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::183295454956:role/glue-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"glue.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-03T10:21:27Z",
            "description": "",
            "force_detach_policies": false,
            "id": "glue-role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::183295454956:policy/example-policy"
            ],
            "max_session_duration": 3600,
            "name": "glue-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROASVLKCV3WJJTFZSNIX"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "name": "glue-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.glue",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "example-attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "glue-role/arn:aws:iam::183295454956:policy/example-policy",
            "policy_arn": "arn:aws:iam::183295454956:policy/example-policy",
            "role": "glue-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "policy_arn": "arn:aws:iam::183295454956:policy/example-policy",
            "role": "glue-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.tf_bucket",
            "aws_s3_bucket.tf_bucket_2",
            "module.glue.aws_iam_policy.glue-policy",
            "module.glue.aws_iam_role.glue-role"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "183295454956",
            "arn": "arn:aws:iam::183295454956:user/terraform",
            "id": "183295454956",
            "user_id": "AIDASVLKCV3WNVQP4L7B7"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2690255455",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "lambda.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "1485351520",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pushDataFunction:*:*\",\n        \"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pushDataFunction:*\"\n      ]\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Resource\":[\"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pushDataFunction:*:*\",\"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pushDataFunction:*\"]}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "logs:CreateLogGroup",
                  "logs:CreateLogStream",
                  "logs:PutLogEvents"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pushDataFunction:*",
                  "arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pushDataFunction:*:*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Europe (Paris)",
            "endpoint": "ec2.eu-west-3.amazonaws.com",
            "id": "eu-west-3",
            "name": "eu-west-3",
            "region": "eu-west-3"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "data",
      "type": "external",
      "name": "archive_prepare",
      "provider": "provider[\"registry.terraform.io/hashicorp/external\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "-",
            "program": [
              "python3",
              ".terraform/modules/lambda_function/package.py",
              "prepare"
            ],
            "query": {
              "artifacts_dir": "builds",
              "docker": null,
              "hash_extra": "",
              "hash_extra_paths": "[]",
              "paths": "{\"cwd\":\"/Users/sfeuvouka/Documents/projects/serveless-pipeline/terraform\",\"module\":\".terraform/modules/lambda_function\",\"root\":\".\"}",
              "recreate_missing_package": "true",
              "runtime": "python3.13",
              "source_path": "\"./../lambda_functions/push_data\""
            },
            "result": {
              "build_plan": "{\"filename\": \"builds/88c4bc9125d2e1a8e7252e9599f0915de522f29cdfe19a9613a297dfeee89bf1.zip\", \"runtime\": \"python3.13\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./../lambda_functions/push_data\", null]]}",
              "build_plan_filename": "builds/88c4bc9125d2e1a8e7252e9599f0915de522f29cdfe19a9613a297dfeee89bf1.plan.json",
              "filename": "builds/88c4bc9125d2e1a8e7252e9599f0915de522f29cdfe19a9613a297dfeee89bf1.zip",
              "timestamp": "1759665586305908000",
              "was_missing": "false"
            },
            "working_dir": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pushDataFunction",
            "id": "/aws/lambda/pushDataFunction",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "/aws/lambda/pushDataFunction",
            "name_prefix": "",
            "region": "eu-west-3",
            "retention_in_days": 0,
            "skip_destroy": false,
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "name": "/aws/lambda/pushDataFunction",
            "region": "eu-west-3"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::183295454956:policy/pushDataFunction-logs",
            "attachment_count": 1,
            "description": "",
            "id": "arn:aws:iam::183295454956:policy/pushDataFunction-logs",
            "name": "pushDataFunction-logs",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pushDataFunction:*:*\",\"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pushDataFunction:*\"]}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPASVLKCV3WMNQCNAXLW",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::183295454956:policy/pushDataFunction-logs"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_function.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.data.aws_arn.log_group_arn",
            "module.lambda_function.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.data.aws_iam_policy_document.logs"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::183295454956:role/pushDataFunction",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-05T12:05:38Z",
            "description": "",
            "force_detach_policies": true,
            "id": "pushDataFunction",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::183295454956:policy/pushDataFunction-logs"
            ],
            "max_session_duration": 3600,
            "name": "pushDataFunction",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROASVLKCV3WBD5YCGGVV"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "name": "pushDataFunction"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_function.data.aws_iam_policy_document.assume_role"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "pushDataFunction/arn:aws:iam::183295454956:policy/pushDataFunction-logs",
            "policy_arn": "arn:aws:iam::183295454956:policy/pushDataFunction-logs",
            "role": "pushDataFunction"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "policy_arn": "arn:aws:iam::183295454956:policy/pushDataFunction-logs",
            "role": "pushDataFunction"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_function.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.aws_iam_policy.logs",
            "module.lambda_function.aws_iam_role.lambda",
            "module.lambda_function.data.aws_arn.log_group_arn",
            "module.lambda_function.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.data.aws_iam_policy_document.assume_role",
            "module.lambda_function.data.aws_iam_policy_document.logs"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:eu-west-3:183295454956:function:pushDataFunction",
            "code_sha256": "FODlbRGzOpmophPY70W1LRuKSgcJ2MVKun9d0ejOo9w=",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "Sends S3 file info to SQS",
            "environment": [
              {
                "variables": {
                  "QUEUE_URL": "https://sqs.eu-west-3.amazonaws.com/183295454956/my-sqs-queue"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "builds/88c4bc9125d2e1a8e7252e9599f0915de522f29cdfe19a9613a297dfeee89bf1.zip",
            "function_name": "pushDataFunction",
            "handler": "push_data.lambda_handler",
            "id": "pushDataFunction",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:eu-west-3:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-3:183295454956:function:pushDataFunction/invocations",
            "kms_key_arn": "",
            "last_modified": "2025-10-05T12:05:51.807+0000",
            "layers": [],
            "logging_config": [
              {
                "application_log_level": "",
                "log_format": "Text",
                "log_group": "/aws/lambda/pushDataFunction",
                "system_log_level": ""
              }
            ],
            "memory_size": 1024,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:eu-west-3:183295454956:function:pushDataFunction:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:eu-west-3:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-3:183295454956:function:pushDataFunction:$LATEST/invocations",
            "region": "eu-west-3",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::183295454956:role/pushDataFunction",
            "runtime": "python3.13",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "FODlbRGzOpmophPY70W1LRuKSgcJ2MVKun9d0ejOo9w=",
            "source_code_size": 683,
            "source_kms_key_arn": "",
            "tags": {},
            "tags_all": {},
            "timeout": 300,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "function_name": "pushDataFunction",
            "region": "eu-west-3"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_iam_role.lambda_exec",
            "aws_sqs_queue.terraform_queue",
            "module.lambda_function.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.aws_iam_policy.additional_inline",
            "module.lambda_function.aws_iam_policy.additional_json",
            "module.lambda_function.aws_iam_policy.additional_jsons",
            "module.lambda_function.aws_iam_policy.async",
            "module.lambda_function.aws_iam_policy.dead_letter",
            "module.lambda_function.aws_iam_policy.logs",
            "module.lambda_function.aws_iam_policy.tracing",
            "module.lambda_function.aws_iam_policy.vpc",
            "module.lambda_function.aws_iam_role.lambda",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_inline",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_json",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_jsons",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_many",
            "module.lambda_function.aws_iam_role_policy_attachment.additional_one",
            "module.lambda_function.aws_iam_role_policy_attachment.async",
            "module.lambda_function.aws_iam_role_policy_attachment.dead_letter",
            "module.lambda_function.aws_iam_role_policy_attachment.logs",
            "module.lambda_function.aws_iam_role_policy_attachment.tracing",
            "module.lambda_function.aws_iam_role_policy_attachment.vpc",
            "module.lambda_function.aws_s3_object.lambda_package",
            "module.lambda_function.data.aws_arn.log_group_arn",
            "module.lambda_function.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function.data.aws_iam_policy.tracing",
            "module.lambda_function.data.aws_iam_policy.vpc",
            "module.lambda_function.data.aws_iam_policy_document.additional_inline",
            "module.lambda_function.data.aws_iam_policy_document.assume_role",
            "module.lambda_function.data.aws_iam_policy_document.async",
            "module.lambda_function.data.aws_iam_policy_document.dead_letter",
            "module.lambda_function.data.aws_iam_policy_document.logs",
            "module.lambda_function.data.aws_partition.current",
            "module.lambda_function.data.external.archive_prepare",
            "module.lambda_function.local_file.archive_plan",
            "module.lambda_function.null_resource.archive"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "managed",
      "type": "local_file",
      "name": "archive_plan",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "content": "{\"filename\": \"builds/88c4bc9125d2e1a8e7252e9599f0915de522f29cdfe19a9613a297dfeee89bf1.zip\", \"runtime\": \"python3.13\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./../lambda_functions/push_data\", null]]}",
            "content_base64": null,
            "content_base64sha256": "JVsMNilFK3WtlXPmkZfDjkObFknOZp6G6II+x/1nJEU=",
            "content_base64sha512": "1Msrmd6QNA/7lagjYiZKPjuOlAWB13wtbT1WVAZlDPfoWCEXmALbmNns7hjIfZo+gO4m+RqENrHj5nopZph/bQ==",
            "content_md5": "5dd20bb9836b79de03957df5401abad2",
            "content_sha1": "43e72c116d0ead22732cc40037181d5b97bea6f9",
            "content_sha256": "255b0c3629452b75ad9573e69197c38e439b1649ce669e86e8823ec7fd672445",
            "content_sha512": "d4cb2b99de90340ffb95a82362264a3e3b8e940581d77c2d6d3d565406650cf7e85821179802db98d9ecee18c87d9a3e80ee26f91a8436b1e3e67a2966987f6d",
            "directory_permission": "0755",
            "file_permission": "0644",
            "filename": "builds/88c4bc9125d2e1a8e7252e9599f0915de522f29cdfe19a9613a297dfeee89bf1.plan.json",
            "id": "43e72c116d0ead22732cc40037181d5b97bea6f9",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "module.lambda_function.data.external.archive_prepare"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function",
      "mode": "managed",
      "type": "null_resource",
      "name": "archive",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "5132933815174454810",
            "triggers": {
              "filename": "builds/88c4bc9125d2e1a8e7252e9599f0915de522f29cdfe19a9613a297dfeee89bf1.zip",
              "timestamp": "1759665586305908000"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "module.lambda_function.data.external.archive_prepare",
            "module.lambda_function.local_file.archive_plan"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "183295454956",
            "arn": "arn:aws:iam::183295454956:user/terraform",
            "id": "183295454956",
            "user_id": "AIDASVLKCV3WNVQP4L7B7"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2690255455",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "lambda.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2877749491",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pullDataFunction:*:*\",\n        \"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pullDataFunction:*\"\n      ]\n    }\n  ]\n}",
            "minified_json": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Resource\":[\"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pullDataFunction:*:*\",\"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pullDataFunction:*\"]}]}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "logs:CreateLogGroup",
                  "logs:CreateLogStream",
                  "logs:PutLogEvents"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pullDataFunction:*",
                  "arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pullDataFunction:*:*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "data",
      "type": "aws_partition",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Europe (Paris)",
            "endpoint": "ec2.eu-west-3.amazonaws.com",
            "id": "eu-west-3",
            "name": "eu-west-3",
            "region": "eu-west-3"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "data",
      "type": "external",
      "name": "archive_prepare",
      "provider": "provider[\"registry.terraform.io/hashicorp/external\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "-",
            "program": [
              "python3",
              ".terraform/modules/lambda_function_2/package.py",
              "prepare"
            ],
            "query": {
              "artifacts_dir": "builds",
              "docker": null,
              "hash_extra": "",
              "hash_extra_paths": "[]",
              "paths": "{\"cwd\":\"/Users/sfeuvouka/Documents/projects/serveless-pipeline/terraform\",\"module\":\".terraform/modules/lambda_function_2\",\"root\":\".\"}",
              "recreate_missing_package": "true",
              "runtime": "python3.13",
              "source_path": "\"./../lambda_functions/pull_data\""
            },
            "result": {
              "build_plan": "{\"filename\": \"builds/554655a2e233679ecd4743efa0fe042a77fa13206088dccabf9c9443f203b86f.zip\", \"runtime\": \"python3.13\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./../lambda_functions/pull_data\", null]]}",
              "build_plan_filename": "builds/554655a2e233679ecd4743efa0fe042a77fa13206088dccabf9c9443f203b86f.plan.json",
              "filename": "builds/554655a2e233679ecd4743efa0fe042a77fa13206088dccabf9c9443f203b86f.zip",
              "timestamp": "1759665586306008200",
              "was_missing": "false"
            },
            "working_dir": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pullDataFunction",
            "id": "/aws/lambda/pullDataFunction",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "/aws/lambda/pullDataFunction",
            "name_prefix": "",
            "region": "eu-west-3",
            "retention_in_days": 0,
            "skip_destroy": false,
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "name": "/aws/lambda/pullDataFunction",
            "region": "eu-west-3"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::183295454956:policy/pullDataFunction-logs",
            "attachment_count": 1,
            "description": "",
            "id": "arn:aws:iam::183295454956:policy/pullDataFunction-logs",
            "name": "pullDataFunction-logs",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pullDataFunction:*:*\",\"arn:aws:logs:eu-west-3:183295454956:log-group:/aws/lambda/pullDataFunction:*\"]}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPASVLKCV3WLWPUZT7TR",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::183295454956:policy/pullDataFunction-logs"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_function_2.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.data.aws_arn.log_group_arn",
            "module.lambda_function_2.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.data.aws_iam_policy_document.logs"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::183295454956:role/pullDataFunction",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-10-05T11:44:17Z",
            "description": "",
            "force_detach_policies": true,
            "id": "pullDataFunction",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::183295454956:policy/pullDataFunction-logs"
            ],
            "max_session_duration": 3600,
            "name": "pullDataFunction",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROASVLKCV3WMD3M6EIF4"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "name": "pullDataFunction"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_function_2.data.aws_iam_policy_document.assume_role"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "pullDataFunction/arn:aws:iam::183295454956:policy/pullDataFunction-logs",
            "policy_arn": "arn:aws:iam::183295454956:policy/pullDataFunction-logs",
            "role": "pullDataFunction"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "policy_arn": "arn:aws:iam::183295454956:policy/pullDataFunction-logs",
            "role": "pullDataFunction"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.lambda_function_2.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.aws_iam_policy.logs",
            "module.lambda_function_2.aws_iam_role.lambda",
            "module.lambda_function_2.data.aws_arn.log_group_arn",
            "module.lambda_function_2.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.data.aws_iam_policy_document.assume_role",
            "module.lambda_function_2.data.aws_iam_policy_document.logs"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:eu-west-3:183295454956:function:pullDataFunction",
            "code_sha256": "mr5TddUw46AnGTz67h8EolGHMiHglkEYch0XQD2hejk=",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "Reads from SQS, converts CSV to Parquet, and uploads to S3",
            "environment": [
              {
                "variables": {
                  "QUEUE_URL": "https://sqs.eu-west-3.amazonaws.com/183295454956/my-sqs-queue",
                  "S3_BUCKET_B": "bucket-b-parquet-565"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "builds/554655a2e233679ecd4743efa0fe042a77fa13206088dccabf9c9443f203b86f.zip",
            "function_name": "pullDataFunction",
            "handler": "pull_data.lambda_handler",
            "id": "pullDataFunction",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:eu-west-3:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-3:183295454956:function:pullDataFunction/invocations",
            "kms_key_arn": "",
            "last_modified": "2025-10-05T12:05:38.000+0000",
            "layers": [
              "arn:aws:lambda:eu-west-3:183295454956:layer:aws-data-wrangler:2"
            ],
            "logging_config": [
              {
                "application_log_level": "",
                "log_format": "Text",
                "log_group": "/aws/lambda/pullDataFunction",
                "system_log_level": ""
              }
            ],
            "memory_size": 1024,
            "package_type": "Zip",
            "publish": false,
            "qualified_arn": "arn:aws:lambda:eu-west-3:183295454956:function:pullDataFunction:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:eu-west-3:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-3:183295454956:function:pullDataFunction:$LATEST/invocations",
            "region": "eu-west-3",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::183295454956:role/pullDataFunction",
            "runtime": "python3.13",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "mr5TddUw46AnGTz67h8EolGHMiHglkEYch0XQD2hejk=",
            "source_code_size": 1047,
            "source_kms_key_arn": "",
            "tags": {},
            "tags_all": {},
            "timeout": 300,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "183295454956",
            "function_name": "pullDataFunction",
            "region": "eu-west-3"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_iam_role.lambda_exec",
            "aws_s3_bucket.tf_bucket_2",
            "aws_sqs_queue.terraform_queue",
            "module.lambda_function_2.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.aws_iam_policy.additional_inline",
            "module.lambda_function_2.aws_iam_policy.additional_json",
            "module.lambda_function_2.aws_iam_policy.additional_jsons",
            "module.lambda_function_2.aws_iam_policy.async",
            "module.lambda_function_2.aws_iam_policy.dead_letter",
            "module.lambda_function_2.aws_iam_policy.logs",
            "module.lambda_function_2.aws_iam_policy.tracing",
            "module.lambda_function_2.aws_iam_policy.vpc",
            "module.lambda_function_2.aws_iam_role.lambda",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_inline",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_json",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_jsons",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_many",
            "module.lambda_function_2.aws_iam_role_policy_attachment.additional_one",
            "module.lambda_function_2.aws_iam_role_policy_attachment.async",
            "module.lambda_function_2.aws_iam_role_policy_attachment.dead_letter",
            "module.lambda_function_2.aws_iam_role_policy_attachment.logs",
            "module.lambda_function_2.aws_iam_role_policy_attachment.tracing",
            "module.lambda_function_2.aws_iam_role_policy_attachment.vpc",
            "module.lambda_function_2.aws_s3_object.lambda_package",
            "module.lambda_function_2.data.aws_arn.log_group_arn",
            "module.lambda_function_2.data.aws_cloudwatch_log_group.lambda",
            "module.lambda_function_2.data.aws_iam_policy.tracing",
            "module.lambda_function_2.data.aws_iam_policy.vpc",
            "module.lambda_function_2.data.aws_iam_policy_document.additional_inline",
            "module.lambda_function_2.data.aws_iam_policy_document.assume_role",
            "module.lambda_function_2.data.aws_iam_policy_document.async",
            "module.lambda_function_2.data.aws_iam_policy_document.dead_letter",
            "module.lambda_function_2.data.aws_iam_policy_document.logs",
            "module.lambda_function_2.data.aws_partition.current",
            "module.lambda_function_2.data.external.archive_prepare",
            "module.lambda_function_2.local_file.archive_plan",
            "module.lambda_function_2.null_resource.archive"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "managed",
      "type": "local_file",
      "name": "archive_plan",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "content": "{\"filename\": \"builds/554655a2e233679ecd4743efa0fe042a77fa13206088dccabf9c9443f203b86f.zip\", \"runtime\": \"python3.13\", \"artifacts_dir\": \"builds\", \"build_plan\": [[\"zip\", \"./../lambda_functions/pull_data\", null]]}",
            "content_base64": null,
            "content_base64sha256": "54jLtF6YzWETvvMOYFMWz06PJMb+wmIaBrmQMmp0dz8=",
            "content_base64sha512": "R7ywvnwCVFhxPko9+bHiQf89ReDZJ0zyTDTbYYDNpgme+t5mQHJJzatoCgXH0KkmJJdz5JmJmaxPW4narA4BdQ==",
            "content_md5": "23b681a8ece9e5d7abc2eb829aa745fb",
            "content_sha1": "2f81128f74c80ac29af677b08bbfd910355140c3",
            "content_sha256": "e788cbb45e98cd6113bef30e605316cf4e8f24c6fec2621a06b990326a74773f",
            "content_sha512": "47bcb0be7c025458713e4a3df9b1e241ff3d45e0d9274cf24c34db6180cda6099efade66407249cdab680a05c7d0a926249773e4998999ac4f5b89daac0e0175",
            "directory_permission": "0755",
            "file_permission": "0644",
            "filename": "builds/554655a2e233679ecd4743efa0fe042a77fa13206088dccabf9c9443f203b86f.plan.json",
            "id": "2f81128f74c80ac29af677b08bbfd910355140c3",
            "sensitive_content": null,
            "source": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_content"
              }
            ]
          ],
          "identity_schema_version": 0,
          "dependencies": [
            "module.lambda_function_2.data.external.archive_prepare"
          ]
        }
      ]
    },
    {
      "module": "module.lambda_function_2",
      "mode": "managed",
      "type": "null_resource",
      "name": "archive",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2208799687197722697",
            "triggers": {
              "filename": "builds/554655a2e233679ecd4743efa0fe042a77fa13206088dccabf9c9443f203b86f.zip",
              "timestamp": "1759665586306008200"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "module.lambda_function_2.data.external.archive_prepare",
            "module.lambda_function_2.local_file.archive_plan"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
